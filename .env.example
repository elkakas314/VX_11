# VX11 v5.0 - Environment Variables Sample
# Copiar este archivo a .env y rellenar con valores reales

# ============================================================
# CONFIGURACIÓN GLOBAL DEL SISTEMA
# ============================================================

ENVIRONMENT=development
# production | development | testing

DEBUG=false
LOG_LEVEL=INFO
# DEBUG | INFO | WARNING | ERROR | CRITICAL

# ============================================================
# PUERTOS Y HOSTS
# ============================================================

API_HOST=0.0.0.0
GATEWAY_PORT=8000
MADRE_PORT=8001
SWITCH_PORT=8002
HERMES_PORT=8003
HORMIGUERO_PORT=8004
MANIFESTATOR_PORT=8005
MCP_PORT=8006
SHUB_PORT=8007

# ============================================================
# BASE DE DATOS
# ============================================================
DATABASE_URL=sqlite:///./data/runtime/vx11.db
# Ejemplo PostgreSQL (futuro): postgresql://user:password@localhost:5432/vx11

DB_ECHO=false
# Habilitar logs de SQL

SQLITE_TIMEOUT=30
# Timeout para operaciones SQLite

# ============================================================
# ULTRA-LOW-MEMORY CONFIGURATION
# ============================================================

ULTRA_LOW_MEMORY=true
MAX_MEMORY_PER_MODULE_MB=512
# Límite de memoria por contenedor

MAX_MODEL_SIZE_MB=256
# Máximo tamaño de modelo HF a descargar

MEMORY_CLEANUP_INTERVAL=300
# Segundos entre limpiezas de caché

CACHE_TTL_SECONDS=300
# Tiempo de vida del caché

GC_INTERVAL=60
# Segundos entre garbage collection

EVICTION_THRESHOLD=0.8
# Umbral de uso de memoria para activar evicción (0.0-1.0)

# ============================================================
# RUTAS Y DIRECTORIOS (Docker: /app/*)
# ============================================================
BASE_PATH=/app
LOGS_PATH=/app/logs            # montar a build/artifacts/logs
MODELS_PATH=/app/models
SANDBOX_PATH=/app/sandbox      # montar a build/artifacts/sandbox
DATA_PATH=/app/data/runtime    # base de datos en data/runtime

# ============================================================
# TOKENS (USAR VAULT / ENV VARS, NO tokens.env)
# ============================================================
# Exportar en el entorno o inyectar vía secret manager:
# VX11_GATEWAY_TOKEN=...
# VX11_TENTACULO_LINK_TOKEN=...
# COPILOT_SESSION_TOKEN=...
# VX11_ALLOW_TOKEN_FILES=false   # solo para dev local con tokens.env (no prod)

# ============================================================
# MADRE - CONFIGURACIÓN AUTÓNOMA
# ============================================================

AUTONOMOUS_LOOP_ENABLED=true
AUTONOMOUS_LOOP_INTERVAL_SECONDS=30
# Intervalo del ciclo autónomo

MADRE_AUTO_DELEGATE=true
# Permitir delegación automática a otros módulos

MADRE_DECISION_TIMEOUT=60
# Timeout para decisiones IA

# ============================================================
# SWITCH - ROUTING Y SCORING
# ============================================================

SWITCH_SCORING_ALGORITHM=weighted
# weighted | random | round_robin

SWITCH_PROVIDER_TIMEOUT=30
SWITCH_LEARNER_ENABLED=true
# Habilitar aprendizaje de preferencias

# ============================================================
# HERMES - EJECUCIÓN Y AUTODISCOVERY
# ============================================================

HERMES_CLI_SCAN_ENABLED=true
HERMES_HF_AUTODISCOVERY_ENABLED=true
HERMES_MODEL_CACHE_ENABLED=true
HERMES_EXECUTION_TIMEOUT=120
# Timeout para ejecución de CLIs

MAX_CLI_INSTANCES=10
# Máximo de CLIs ejecutándose simultáneamente

# ============================================================
# HORMIGUERO - PARALELIZACIÓN
# ============================================================

HORMIGUERO_INITIAL_ANTS=4
# Número inicial de workers

HORMIGUERO_MAX_ANTS=16
HORMIGUERO_MIN_ANTS=1
HORMIGUERO_SCALE_UP_THRESHOLD=0.9
# Umbral para escalar workers

HORMIGUERO_SCALE_DOWN_THRESHOLD=0.3
# Umbral para reducir workers

# ============================================================
# MANIFESTATOR - AUDITORÍA Y PARCHES
# ============================================================

MANIFESTATOR_AUTO_SCAN_ENABLED=true
MANIFESTATOR_SCAN_INTERVAL_MINUTES=10
MANIFESTATOR_AUTO_PATCH_ENABLED=false
# Aplicar patches automáticamente (CUIDADO)

MANIFESTATOR_PATCH_VALIDATION_ENABLED=true
MANIFESTATOR_ROLLBACK_ON_ERROR=true

# ============================================================
# MCP - CONVERSACIONAL
# ============================================================

MCP_CONTEXT_PERSIST_ENABLED=true
MCP_SESSION_TIMEOUT_MINUTES=60
MCP_HISTORY_LIMIT=100
# Máximo de mensajes a guardar por sesión

# ============================================================
# SEGURIDAD Y TOKENS
# ============================================================

VX11_GATEWAY_TOKEN=vx11-token-production
# Token para autenticación en gateway (cambiar en producción)

JWT_SECRET_KEY=your-jwt-secret-key-change-me
# Clave secreta para JWT tokens

JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

API_KEY_HEADER=X-VX11-Token
# Header donde se envía el token

CORS_ORIGINS=http://localhost:3000,http://localhost:5173
# Orígenes permitidos para CORS

# ============================================================
# INTEGRACIÓN COPILOT / VS CODE
# ============================================================

COPILOT_INTEGRATION_ENABLED=true
VSCODE_EXTENSION_ENABLED=true
VS_CODE_MCP_ENDPOINT=http://localhost:8006
# Endpoint MCP para VS Code

# ============================================================
# ACTIONS GATEWAY (GitHub Actions)
# ============================================================

ACTIONS_GATEWAY_ENABLED=false
ACTIONS_GATEWAY_URL=https://api.github.com
ACTIONS_GATEWAY_TIMEOUT=30

# ============================================================
# SANDBOX Y SEGURIDAD
# ============================================================

SANDBOX_ENABLED=true
ALLOW_SYSTEM_ACCESS=false
# Permitir acceso directo al sistema

READ_ONLY_BY_DEFAULT=true
# Modo solo lectura por defecto

UNSAFE_OPERATIONS_ALLOWED=false
# Permitir operaciones potencialmente peligrosas

# ============================================================
# MODELO LINGÜÍSTICO CENTRAL
# ============================================================

LINGUISTIC_CORE_MODEL=auto
# auto | deepseek | local_mistral | local_llama | huggingface

MODEL_AUTO_FALLBACK=true
# Cambiar de modelo si el preferido falla

# ============================================================
# CONFIGURACIÓN DE DEEPSEEK (Si se usa)
# ============================================================

DEEPSEEK_API_KEY=sk-...
# Clave API de DeepSeek (ver tokens.env)

DEEPSEEK_MODEL=deepseek-r1
DEEPSEEK_TIMEOUT=60
DEEPSEEK_MAX_TOKENS=4000
DEEPSEEK_TEMPERATURE=0.7

# ============================================================
# CONFIGURACIÓN DE OPENAI (Si se usa)
# ============================================================

OPENAI_API_KEY=sk-...
# Clave API de OpenAI (ver tokens.env)

OPENAI_MODEL=gpt-4
OPENAI_TIMEOUT=30

# ============================================================
# HUGGINGFACE CONFIGURATION
# ============================================================

HUGGINGFACE_TOKEN=hf_...
# Token para descargar modelos privados (ver tokens.env)

HF_HUB_CACHE=/app/models
HF_OFFLINE_MODE=false

# ============================================================
# LOGGING Y MONITOREO
# ============================================================

LOG_FORMAT=json
# json | text

SENTRY_DSN=
# URL de Sentry para error tracking (opcional)

PROMETHEUS_ENABLED=false
# Habilitar métricas Prometheus

PROMETHEUS_PORT=9090

# ============================================================
# BACKUPS Y PERSISTENCIA
# ============================================================

BACKUP_ENABLED=true
BACKUP_INTERVAL_HOURS=24
BACKUP_RETENTION_DAYS=7

SNAPSHOT_ENABLED=true
SNAPSHOT_INTERVAL_MINUTES=60

# ============================================================
# FEATURES EXPERIMENTALES
# ============================================================

EXPERIMENTAL_FEATURES=false
FEATURE_AUTO_OPTIMIZE=false
FEATURE_PREDICTIVE_SCALING=false
FEATURE_AI_DECISION_LOGGING=true

# ============================================================
# NOTAS
# ============================================================

# Este archivo es un EJEMPLO. 
# Copiar a .env y rellenar con valores reales.
# NUNCA comitear credenciales reales.
# Para tokens sensitivos, ver tokens.env.sample
