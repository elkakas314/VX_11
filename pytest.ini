[pytest]
# VX11 pytest configuration (PHASE 1-6 final)

# Test discovery
# NOTE: Actual test suite is in operator/frontend/__tests__/*.test.ts (vitest)
# pytest.ini excludes:
#   - tests/ (legacy, broken)
#   - attic/tests_legacy/ (archived)
#   - scripts/test_*.py (manual test scripts, not pytest)
# This testpaths ensures pytest runs only if/when .py tests are added
testpaths = 
    operator/frontend/__tests__
    
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Exclude problematic directories (Redis perms, runtime data, node_modules)
norecursedirs = 
    .git
    .venv
    node_modules
    dist
    build
    docs/audit
    data/redis
    data/runtime
    forensic
    attic
    archive
    __pycache__
    .pytest_cache
    tests_legacy

# Asyncio mode
asyncio_mode = auto

# Python path
pythonpath = .

# Output
addopts = 
    -v
    --tb=short
    --strict-markers
    --disable-warnings
    -ra
# Marcadores personalizados
markers =
    slow: tests que pueden tardar >10s
    integration: tests que requieren servicios externos (Madre, Switch, Shub)
    smoke: tests r√°pidos de salud (health checks, basic endpoints)
    xfail: tests que se espera que fallen en CI/CD sin servicios reales
    unit: tests unitarios (sin docker)
    stability: tests de estabilidad/durabilidad (P0 suite)
    docker: tests que requieren docker
    p0: Priority 0 (critical tests)
