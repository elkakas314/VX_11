============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-7.4.3, pluggy-1.6.0
rootdir: /home/elkakas314/vx11
configfile: pytest.ini
plugins: cov-7.0.0, asyncio-0.21.1, anyio-3.7.1
asyncio: mode=auto
collected 690 items
Collected 690 tests.

tests/test_all_healthchecks.py .Progress: 1/690 tests (0%)                                         [  0%]
tests/test_cardinality_counter.py .Progress: 2/690 tests (0%).Progress: 3/690 tests (0%).Progress: 4/690 tests (0%).Progress: 5/690 tests (0%).Progress: 6/690 tests (0%).Progress: 7/690 tests (1%).Progress: 8/690 tests (1%).Progress: 9/690 tests (1%).Progress: 10/690 tests (1%).Progress: 11/690 tests (1%).Progress: 12/690 tests (1%)                            [  1%]
tests/test_cli_concentrator_selection.py .Progress: 13/690 tests (1%).Progress: 14/690 tests (2%).Progress: 15/690 tests (2%).Progress: 16/690 tests (2%).Progress: 17/690 tests (2%)                           [  2%]
tests/test_cli_usage_db_writes.py .Progress: 18/690 tests (2%).Progress: 19/690 tests (2%).Progress: 20/690 tests (2%).Progress: 21/690 tests (3%)                                   [  3%]
tests/test_context7_v7.py .Progress: 22/690 tests (3%).Progress: 23/690 tests (3%).Progress: 24/690 tests (3%).Progress: 25/690 tests (3%).Progress: 26/690 tests (3%).Progress: 27/690 tests (3%).Progress: 28/690 tests (4%).Progress: 29/690 tests (4%).Progress: 30/690 tests (4%)                                      [  4%]
tests/test_copilot_operator.py .Progress: 31/690 tests (4%).Progress: 32/690 tests (4%).Progress: 33/690 tests (4%).Progress: 34/690 tests (4%).Progress: 35/690 tests (5%).Progress: 36/690 tests (5%).Progress: 37/690 tests (5%).Progress: 38/690 tests (5%).Progress: 39/690 tests (5%).Progress: 40/690 tests (5%).Progress: 41/690 tests (5%).Progress: 42/690 tests (6%).Progress: 43/690 tests (6%).Progress: 44/690 tests (6%).Progress: 45/690 tests (6%).Progress: 46/690 tests (6%).Progress: 47/690 tests (6%).Progress: 48/690 tests (6%).Progress: 49/690 tests (7%).Progress: 50/690 tests (7%).Progress: 51/690 tests (7%).Progress: 52/690 tests (7%).Progress: 53/690 tests (7%).Progress: 54/690 tests (7%).Progress: 55/690 tests (7%).Progress: 56/690 tests (8%).Progress: 57/690 tests (8%).Progress: 58/690 tests (8%).Progress: 59/690 tests (8%).Progress: 60/690 tests (8%).Progress: 61/690 tests (8%).Progress: 62/690 tests (8%).Progress: 63/690 tests (9%).Progress: 64/690 tests (9%).Progress: 65/690 tests (9%).Progress: 66/690 tests (9%).Progress: 67/690 tests (9%).Progress: 68/690 tests (9%).Progress: 69/690 tests (10%).Progress: 70/690 tests (10%)  [ 10%]
tests/test_correlation_tracker.py .Progress: 71/690 tests (10%).Progress: 72/690 tests (10%).Progress: 73/690 tests (10%).Progress: 74/690 tests (10%).Progress: 75/690 tests (10%).Progress: 76/690 tests (11%).Progress: 77/690 tests (11%).Progress: 78/690 tests (11%).Progress: 79/690 tests (11%).Progress: 80/690 tests (11%)                             [ 11%]
tests/test_db_schema.py .Progress: 81/690 tests (11%).Progress: 82/690 tests (11%).Progress: 83/690 tests (12%).Progress: 84/690 tests (12%).Progress: 85/690 tests (12%)                                            [ 12%]
tests/test_dynamic_optimization.py .Progress: 86/690 tests (12%).Progress: 87/690 tests (12%).Progress: 88/690 tests (12%).Progress: 89/690 tests (12%).Progress: 90/690 tests (13%).Progress: 91/690 tests (13%).Progress: 92/690 tests (13%).Progress: 93/690 tests (13%).Progress: 94/690 tests (13%).Progress: 95/690 tests (13%).Progress: 96/690 tests (13%).Progress: 97/690 tests (14%).Progress: 98/690 tests (14%).Progress: 99/690 tests (14%)FProgress: 100/690 tests (14%).Progress: 101/690 tests (14%).Progress: 102/690 tests (14%).Progress: 103/690 tests (14%)                    [ 14%]
tests/test_event_validation.py .Progress: 104/690 tests (15%).Progress: 105/690 tests (15%).Progress: 106/690 tests (15%).Progress: 107/690 tests (15%).Progress: 108/690 tests (15%).Progress: 109/690 tests (15%).Progress: 110/690 tests (15%).Progress: 111/690 tests (16%).Progress: 112/690 tests (16%).Progress: 113/690 tests (16%).Progress: 114/690 tests (16%).Progress: 115/690 tests (16%).Progress: 116/690 tests (16%).Progress: 117/690 tests (16%).Progress: 118/690 tests (17%).Progress: 119/690 tests (17%).Progress: 120/690 tests (17%).Progress: 121/690 tests (17%).Progress: 122/690 tests (17%).Progress: 123/690 tests (17%).Progress: 124/690 tests (17%).Progress: 125/690 tests (18%).Progress: 126/690 tests (18%).Progress: 127/690 tests (18%).Progress: 128/690 tests (18%).Progress: 129/690 tests (18%).Progress: 130/690 tests (18%).Progress: 131/690 tests (18%).Progress: 132/690 tests (19%).Progress: 133/690 tests (19%).Progress: 134/690 tests (19%)           [ 19%]
tests/test_fluzo_scoring_influence.py .Progress: 135/690 tests (19%).Progress: 136/690 tests (19%).Progress: 137/690 tests (19%).Progress: 138/690 tests (20%).Progress: 139/690 tests (20%)                              [ 20%]
tests/test_forensics_rotate.py .Progress: 140/690 tests (20%)                                         [ 20%]
tests/test_ga_router_tokens.py .Progress: 141/690 tests (20%)                                         [ 20%]
tests/test_gateway_v7.py .Progress: 142/690 tests (20%).Progress: 143/690 tests (20%).Progress: 144/690 tests (20%).Progress: 145/690 tests (21%).Progress: 146/690 tests (21%).Progress: 147/690 tests (21%).Progress: 148/690 tests (21%).Progress: 149/690 tests (21%).Progress: 150/690 tests (21%).Progress: 151/690 tests (21%).Progress: 152/690 tests (22%)                                     [ 22%]
tests/test_health_endpoints.py .Progress: 153/690 tests (22%)                                         [ 22%]
tests/test_health_smoke.py .Progress: 154/690 tests (22%).Progress: 155/690 tests (22%).Progress: 156/690 tests (22%).Progress: 157/690 tests (22%)FProgress: 158/690 tests (22%).Progress: 159/690 tests (23%).Progress: 160/690 tests (23%).Progress: 161/690 tests (23%).Progress: 162/690 tests (23%)                                     [ 23%]
tests/test_hermes_cli_detection.py .Progress: 163/690 tests (23%)                                     [ 23%]
tests/test_hermes_cli_registry_module.py .Progress: 164/690 tests (23%)                               [ 23%]
tests/test_hermes_discovery_apply.py .Progress: 165/690 tests (23%)                                   [ 23%]
tests/test_hermes_registry_db.py .Progress: 166/690 tests (24%)                                       [ 24%]
tests/test_hermes_waveform.py .Progress: 167/690 tests (24%)                                          [ 24%]
tests/test_hormiguero.py FProgress: 168/690 tests (24%)                                               [ 24%]
tests/test_hormiguero_queen.py .Progress: 169/690 tests (24%)                                         [ 24%]
tests/test_hormiguero_v7.py .Progress: 170/690 tests (24%).Progress: 171/690 tests (24%).Progress: 172/690 tests (24%).Progress: 173/690 tests (25%).Progress: 174/690 tests (25%).Progress: 175/690 tests (25%).Progress: 176/690 tests (25%).Progress: 177/690 tests (25%).Progress: 178/690 tests (25%).Progress: 179/690 tests (25%).Progress: 180/690 tests (26%).Progress: 181/690 tests (26%).Progress: 182/690 tests (26%).Progress: 183/690 tests (26%).Progress: 184/690 tests (26%).Progress: 185/690 tests (26%).Progress: 186/690 tests (26%).Progress: 187/690 tests (27%)                           [ 27%]
tests/test_leonidas_permissions.py .Progress: 188/690 tests (27%).Progress: 189/690 tests (27%)                                    [ 27%]
tests/test_madre.py .Progress: 190/690 tests (27%).Progress: 191/690 tests (27%).Progress: 192/690 tests (27%).Progress: 193/690 tests (27%).Progress: 194/690 tests (28%).Progress: 195/690 tests (28%).Progress: 196/690 tests (28%).Progress: 197/690 tests (28%).Progress: 198/690 tests (28%).Progress: 199/690 tests (28%).Progress: 200/690 tests (28%).Progress: 201/690 tests (29%).Progress: 202/690 tests (29%).Progress: 203/690 tests (29%).Progress: 204/690 tests (29%).Progress: 205/690 tests (29%).Progress: 206/690 tests (29%).Progress: 207/690 tests (30%).Progress: 208/690 tests (30%).Progress: 209/690 tests (30%).Progress: 210/690 tests (30%).Progress: 211/690 tests (30%).Progress: 212/690 tests (30%).Progress: 213/690 tests (30%).Progress: 214/690 tests (31%).Progress: 215/690 tests (31%).Progress: 216/690 tests (31%).Progress: 217/690 tests (31%).Progress: 218/690 tests (31%).Progress: 219/690 tests (31%).Progress: 220/690 tests (31%)FProgress: 221/690 tests (32%).Progress: 222/690 tests (32%)                    [ 32%]
tests/test_madre_fluzo_integration.py .Progress: 223/690 tests (32%).Progress: 224/690 tests (32%).Progress: 225/690 tests (32%).Progress: 226/690 tests (32%).Progress: 227/690 tests (32%).Progress: 228/690 tests (33%).Progress: 229/690 tests (33%)                            [ 33%]
tests/test_madre_orchestration.py sProgress: 230/690 tests (33%)sProgress: 231/690 tests (33%)sProgress: 232/690 tests (33%)sProgress: 233/690 tests (33%)                                   [ 33%]
tests/test_madre_spawner_v7.py FProgress: 234/690 tests (33%)FProgress: 235/690 tests (34%)FProgress: 236/690 tests (34%)FProgress: 237/690 tests (34%)FProgress: 238/690 tests (34%)FProgress: 239/690 tests (34%)FProgress: 240/690 tests (34%)FProgress: 241/690 tests (34%).Progress: 242/690 tests (35%)FProgress: 243/690 tests (35%).Progress: 244/690 tests (35%).Progress: 245/690 tests (35%).Progress: 246/690 tests (35%).Progress: 247/690 tests (35%).Progress: 248/690 tests (35%).Progress: 249/690 tests (36%).Progress: 250/690 tests (36%).Progress: 251/690 tests (36%).Progress: 252/690 tests (36%).Progress: 253/690 tests (36%).Progress: 254/690 tests (36%)FProgress: 255/690 tests (36%).Progress: 256/690 tests (37%).Progress: 257/690 tests (37%).Progress: 258/690 tests (37%)FProgress: 259/690 tests (37%)FProgress: 260/690 tests (37%)               [ 37%]
tests/test_madre_spawner_v7_simple.py .Progress: 261/690 tests (37%).Progress: 262/690 tests (37%).Progress: 263/690 tests (38%).Progress: 264/690 tests (38%).Progress: 265/690 tests (38%).Progress: 266/690 tests (38%).Progress: 267/690 tests (38%).Progress: 268/690 tests (38%).Progress: 269/690 tests (38%).Progress: 270/690 tests (39%).Progress: 271/690 tests (39%).Progress: 272/690 tests (39%).Progress: 273/690 tests (39%).Progress: 274/690 tests (39%)                     [ 39%]
tests/test_madre_states.py .Progress: 275/690 tests (39%)                                             [ 39%]
tests/test_manifestator_drift.py .Progress: 276/690 tests (40%)                                       [ 40%]
tests/test_mcp_action.py .Progress: 277/690 tests (40%)                                               [ 40%]
tests/test_mcp_switch_integration.py ss                                  [ 40%]
tests/test_modes_transition.py .Progress: 278/690 tests (40%).Progress: 279/690 tests (40%).Progress: 280/690 tests (40%).Progress: 281/690 tests (40%).Progress: 282/690 tests (40%).Progress: 283/690 tests (41%).Progress: 284/690 tests (41%)FProgress: 285/690 tests (41%)FProgress: 286/690 tests (41%)FProgress: 287/690 tests (41%).Progress: 288/690 tests (41%).Progress: 289/690 tests (41%).Progress: 290/690 tests (42%).Progress: 291/690 tests (42%).Progress: 292/690 tests (42%)FProgress: 293/690 tests (42%).Progress: 294/690 tests (42%).Progress: 295/690 tests (42%).Progress: 296/690 tests (42%)FProgress: 297/690 tests (43%).Progress: 298/690 tests (43%)                     [ 43%]
tests/test_operator_backend_v7.py .Progress: 299/690 tests (43%).Progress: 300/690 tests (43%).Progress: 301/690 tests (43%).Progress: 302/690 tests (43%).Progress: 303/690 tests (43%).Progress: 304/690 tests (44%).Progress: 305/690 tests (44%).Progress: 306/690 tests (44%).Progress: 307/690 tests (44%).Progress: 308/690 tests (44%).Progress: 309/690 tests (44%).Progress: 310/690 tests (44%).Progress: 311/690 tests (45%).Progress: 312/690 tests (45%)                         [ 45%]
tests/test_operator_browser_v7.py .Progress: 313/690 tests (45%).Progress: 314/690 tests (45%).Progress: 315/690 tests (45%).Progress: 316/690 tests (45%).Progress: 317/690 tests (45%)FProgress: 318/690 tests (46%).Progress: 319/690 tests (46%).Progress: 320/690 tests (46%).Progress: 321/690 tests (46%)FProgress: 322/690 tests (46%)FProgress: 323/690 tests (46%)FProgress: 324/690 tests (46%).Progress: 325/690 tests (47%)FProgress: 326/690 tests (47%)FProgress: 327/690 tests (47%)                        [ 47%]
tests/test_operator_db_schema_v7.py .Progress: 328/690 tests (47%).Progress: 329/690 tests (47%).Progress: 330/690 tests (47%).Progress: 331/690 tests (47%).Progress: 332/690 tests (48%)                                [ 48%]
tests/test_operator_intents.py .Progress: 333/690 tests (48%).Progress: 334/690 tests (48%)                                        [ 48%]
tests/test_operator_shub_phase4.py .Progress: 335/690 tests (48%).Progress: 336/690 tests (48%).Progress: 337/690 tests (48%)                                   [ 49%]
tests/test_operator_switch_hermes_flow.py .Progress: 338/690 tests (48%).Progress: 339/690 tests (49%)                             [ 49%]
tests/test_operator_ui_status_events.py FProgress: 340/690 tests (49%)FProgress: 341/690 tests (49%)                               [ 49%]
tests/test_operator_version_core.py FProgress: 342/690 tests (49%)                                    [ 49%]
tests/test_paso7_integration.py .Progress: 343/690 tests (49%).Progress: 344/690 tests (49%).Progress: 345/690 tests (50%).Progress: 346/690 tests (50%).Progress: 347/690 tests (50%).Progress: 348/690 tests (50%).Progress: 349/690 tests (50%).Progress: 350/690 tests (50%).Progress: 351/690 tests (50%).Progress: 352/690 tests (51%).Progress: 353/690 tests (51%).Progress: 354/690 tests (51%).Progress: 355/690 tests (51%).Progress: 356/690 tests (51%).Progress: 357/690 tests (51%).Progress: 358/690 tests (51%).Progress: 359/690 tests (52%).Progress: 360/690 tests (52%).Progress: 361/690 tests (52%).Progress: 362/690 tests (52%).Progress: 363/690 tests (52%).Progress: 364/690 tests (52%).Progress: 365/690 tests (52%).Progress: 366/690 tests (53%).Progress: 367/690 tests (53%).Progress: 368/690 tests (53%).Progress: 369/690 tests (53%).Progress: 370/690 tests (53%).Progress: 371/690 tests (53%).Progress: 372/690 tests (53%).Progress: 373/690 tests (54%).Progress: 374/690 tests (54%).Progress: 375/690 tests (54%).Progress: 376/690 tests (54%).Progress: 377/690 tests (54%).Progress: 378/690 tests (54%).Progress: 379/690 tests (54%).Progress: 380/690 tests (55%)   [ 55%]
tests/test_phase12_fases2_10.py ssssssssssssss                           [ 57%]
tests/test_pnp_and_integration.py .Progress: 381/690 tests (55%).Progress: 382/690 tests (55%).Progress: 383/690 tests (55%).Progress: 384/690 tests (55%).Progress: 385/690 tests (55%).Progress: 386/690 tests (55%).Progress: 387/690 tests (56%).Progress: 388/690 tests (56%).Progress: 389/690 tests (56%).Progress: 390/690 tests (56%).Progress: 391/690 tests (56%).Progress: 392/690 tests (56%).Progress: 393/690 tests (56%).Progress: 394/690 tests (57%).Progress: 395/690 tests (57%).Progress: 396/690 tests (57%).Progress: 397/690 tests (57%).Progress: 398/690 tests (57%).Progress: 399/690 tests (57%).Progress: 400/690 tests (57%).Progress: 401/690 tests (58%).Progress: 402/690 tests (58%).Progress: 403/690 tests (58%).Progress: 404/690 tests (58%).Progress: 405/690 tests (58%).Progress: 406/690 tests (58%)             [ 61%]
tests/test_pnp_and_switch_integration.py .Progress: 407/690 tests (58%).Progress: 408/690 tests (59%).Progress: 409/690 tests (59%).Progress: 410/690 tests (59%).Progress: 411/690 tests (59%).Progress: 412/690 tests (59%).Progress: 413/690 tests (59%).Progress: 414/690 tests (60%).Progress: 415/690 tests (60%).Progress: 416/690 tests (60%).Progress: 417/690 tests (60%).Progress: 418/690 tests (60%).Progress: 419/690 tests (60%).Progress: 420/690 tests (60%).Progress: 421/690 tests (61%).Progress: 422/690 tests (61%).Progress: 423/690 tests (61%).Progress: 424/690 tests (61%).Progress: 425/690 tests (61%).Progress: 426/690 tests (61%).Progress: 427/690 tests (61%).Progress: 428/690 tests (62%)          [ 64%]
tests/test_reina_logic_v7.py .Progress: 429/690 tests (62%).Progress: 430/690 tests (62%).Progress: 431/690 tests (62%).Progress: 432/690 tests (62%).Progress: 433/690 tests (62%).Progress: 434/690 tests (62%).Progress: 435/690 tests (63%).Progress: 436/690 tests (63%).Progress: 437/690 tests (63%).Progress: 438/690 tests (63%).Progress: 439/690 tests (63%).Progress: 440/690 tests (63%)                                [ 66%]
tests/test_routingresult_compat.py .Progress: 441/690 tests (63%)                                     [ 66%]
tests/test_shub_api.py .Progress: 442/690 tests (64%).Progress: 443/690 tests (64%).Progress: 444/690 tests (64%).Progress: 445/690 tests (64%).Progress: 446/690 tests (64%).Progress: 447/690 tests (64%).Progress: 448/690 tests (64%).Progress: 449/690 tests (65%).Progress: 450/690 tests (65%).Progress: 451/690 tests (65%).Progress: 452/690 tests (65%).Progress: 453/690 tests (65%).Progress: 454/690 tests (65%).Progress: 455/690 tests (65%).Progress: 456/690 tests (66%).Progress: 457/690 tests (66%).Progress: 458/690 tests (66%).Progress: 459/690 tests (66%).Progress: 460/690 tests (66%)                               [ 68%]
tests/test_shub_autonomy_e2e.py .Progress: 461/690 tests (66%).Progress: 462/690 tests (66%).Progress: 463/690 tests (67%).Progress: 464/690 tests (67%).Progress: 465/690 tests (67%).Progress: 466/690 tests (67%).Progress: 467/690 tests (67%).Progress: 468/690 tests (67%).Progress: 469/690 tests (67%).Progress: 470/690 tests (68%).Progress: 471/690 tests (68%).Progress: 472/690 tests (68%).Progress: 473/690 tests (68%).Progress: 474/690 tests (68%).Progress: 475/690 tests (68%).Progress: 476/690 tests (68%).Progress: 477/690 tests (69%).Progress: 478/690 tests (69%)FProgress: 479/690 tests (69%)FProgress: 480/690 tests (69%).Progress: 481/690 tests (69%)FProgress: 482/690 tests (69%)FProgress: 483/690 tests (70%)FProgress: 484/690 tests (70%).Progress: 485/690 tests (70%)FProgress: 486/690 tests (70%).Progress: 487/690 tests (70%).Progress: 488/690 tests (70%)             [ 73%]
tests/test_shub_core.py .Progress: 489/690 tests (70%).Progress: 490/690 tests (71%).Progress: 491/690 tests (71%).Progress: 492/690 tests (71%).Progress: 493/690 tests (71%).Progress: 494/690 tests (71%).Progress: 495/690 tests (71%).Progress: 496/690 tests (71%).Progress: 497/690 tests (72%).Progress: 498/690 tests (72%).Progress: 499/690 tests (72%).Progress: 500/690 tests (72%).Progress: 501/690 tests (72%).Progress: 502/690 tests (72%)FProgress: 503/690 tests (72%)                                  [ 75%]
tests/test_shub_dsp.py .Progress: 504/690 tests (73%)FProgress: 505/690 tests (73%)FProgress: 506/690 tests (73%)FProgress: 507/690 tests (73%)FProgress: 508/690 tests (73%)FProgress: 509/690 tests (73%).Progress: 510/690 tests (73%)FProgress: 511/690 tests (74%).Progress: 512/690 tests (74%).Progress: 513/690 tests (74%)                                        [ 76%]
tests/test_shub_mode_c.py .Progress: 514/690 tests (74%)FProgress: 515/690 tests (74%)                                             [ 76%]
tests/test_shub_modes.py FProgress: 516/690 tests (74%)                                               [ 77%]
tests/test_shub_pro.py sProgress: 517/690 tests (74%)FProgress: 518/690 tests (75%)FProgress: 519/690 tests (75%)FProgress: 520/690 tests (75%)FProgress: 521/690 tests (75%).Progress: 522/690 tests (75%).Progress: 523/690 tests (75%).Progress: 524/690 tests (75%).Progress: 525/690 tests (76%).Progress: 526/690 tests (76%).Progress: 527/690 tests (76%).Progress: 528/690 tests (76%).Progress: 529/690 tests (76%).Progress: 530/690 tests (76%)FProgress: 531/690 tests (76%).Progress: 532/690 tests (77%).Progress: 533/690 tests (77%)FProgress: 534/690 tests (77%)FProgress: 535/690 tests (77%).Progress: 536/690 tests (77%)FProgress: 537/690 tests (77%).Progress: 538/690 tests (77%).Progress: 539/690 tests (78%).Progress: 540/690 tests (78%)FProgress: 541/690 tests (78%)FProgress: 542/690 tests (78%)                        [ 80%]
tests/test_shub_pro_api.py .Progress: 543/690 tests (78%)                                             [ 81%]
tests/test_shub_pro_io.py .Progress: 544/690 tests (78%)                                              [ 81%]
tests/test_shub_pro_simple.py .Progress: 545/690 tests (78%).Progress: 546/690 tests (79%).Progress: 547/690 tests (79%).Progress: 548/690 tests (79%).Progress: 549/690 tests (79%).Progress: 550/690 tests (79%).Progress: 551/690 tests (79%).Progress: 552/690 tests (80%).Progress: 553/690 tests (80%).Progress: 554/690 tests (80%).Progress: 555/690 tests (80%).Progress: 556/690 tests (80%).Progress: 557/690 tests (80%).Progress: 558/690 tests (80%).Progress: 559/690 tests (81%).Progress: 560/690 tests (81%).Progress: 561/690 tests (81%).Progress: 562/690 tests (81%).Progress: 563/690 tests (81%).Progress: 564/690 tests (81%).Progress: 565/690 tests (81%).Progress: 566/690 tests (82%).Progress: 567/690 tests (82%).Progress: 568/690 tests (82%).Progress: 569/690 tests (82%).Progress: 570/690 tests (82%).Progress: 571/690 tests (82%).Progress: 572/690 tests (82%).Progress: 573/690 tests (83%)              [ 85%]
tests/test_shubniggurath_complete_suite.py FProgress: 574/690 tests (83%)FProgress: 575/690 tests (83%).Progress: 576/690 tests (83%).Progress: 577/690 tests (83%).Progress: 578/690 tests (83%).Progress: 579/690 tests (83%).Progress: 580/690 tests (84%).Progress: 581/690 tests (84%).Progress: 582/690 tests (84%).Progress: 583/690 tests (84%).Progress: 584/690 tests (84%).Progress: 585/690 tests (84%).Progress: 586/690 tests (84%).Progress: 587/690 tests (85%)                [ 87%]
tests/test_shubniggurath_phase1.py ss.Progress: 588/690 tests (85%).Progress: 589/690 tests (85%)                                  [ 87%]
tests/test_shubniggurath_phase2.py .Progress: 590/690 tests (85%).Progress: 591/690 tests (85%).Progress: 592/690 tests (85%).Progress: 593/690 tests (85%)                                  [ 88%]
tests/test_shubniggurath_phase3.py .Progress: 594/690 tests (86%).Progress: 595/690 tests (86%).Progress: 596/690 tests (86%).Progress: 597/690 tests (86%)                                  [ 89%]
tests/test_shubniggurath_phase5.py .Progress: 598/690 tests (86%).Progress: 599/690 tests (86%).Progress: 600/690 tests (86%).Progress: 601/690 tests (87%)                                  [ 89%]
tests/test_shubniggurath_phase6.py .Progress: 602/690 tests (87%).Progress: 603/690 tests (87%).Progress: 604/690 tests (87%).Progress: 605/690 tests (87%)                                  [ 90%]
tests/test_shubniggurath_phase7.py .Progress: 606/690 tests (87%).Progress: 607/690 tests (87%).Progress: 608/690 tests (88%)                                   [ 90%]
tests/test_shubniggurath_phase8.py .Progress: 609/690 tests (88%).Progress: 610/690 tests (88%)                                    [ 91%]
tests/test_spawner_endpoints.py sProgress: 611/690 tests (88%)sProgress: 612/690 tests (88%)sProgress: 613/690 tests (88%)sProgress: 614/690 tests (88%)sProgress: 615/690 tests (89%)                                    [ 91%]
tests/test_switch_auto.py .Progress: 616/690 tests (89%)                                              [ 91%]
tests/test_switch_chat_and_breaker.py .Progress: 617/690 tests (89%).Progress: 618/690 tests (89%)                                 [ 92%]
tests/test_switch_deepseek.py .Progress: 619/690 tests (89%).Progress: 620/690 tests (89%)                                         [ 92%]
tests/test_switch_deepseek_staging.py .Progress: 621/690 tests (90%)                                  [ 92%]
tests/test_switch_hermes_flow.py .Progress: 622/690 tests (90%).Progress: 623/690 tests (90%).Progress: 624/690 tests (90%).Progress: 625/690 tests (90%)                                    [ 93%]
tests/test_switch_hermes_shub_pipeline.py .Progress: 626/690 tests (90%).Progress: 627/690 tests (90%).Progress: 628/690 tests (91%).Progress: 629/690 tests (91%).Progress: 630/690 tests (91%)                          [ 93%]
tests/test_switch_hermes_v7.py .Progress: 631/690 tests (91%).Progress: 632/690 tests (91%).Progress: 633/690 tests (91%).Progress: 634/690 tests (91%).Progress: 635/690 tests (92%).Progress: 636/690 tests (92%).Progress: 637/690 tests (92%).Progress: 638/690 tests (92%).Progress: 639/690 tests (92%).Progress: 640/690 tests (92%).Progress: 641/690 tests (92%).Progress: 642/690 tests (93%).Progress: 643/690 tests (93%)                             [ 95%]
tests/test_switch_integration_v7.py .Progress: 644/690 tests (93%).Progress: 645/690 tests (93%).Progress: 646/690 tests (93%).Progress: 647/690 tests (93%).Progress: 648/690 tests (93%).Progress: 649/690 tests (94%).Progress: 650/690 tests (94%).Progress: 651/690 tests (94%)                             [ 96%]
tests/test_switch_local.py .Progress: 652/690 tests (94%)                                             [ 97%]
tests/test_switch_multiauto.py .Progress: 653/690 tests (94%).Progress: 654/690 tests (94%)                                        [ 97%]
tests/test_switch_providers.py .Progress: 655/690 tests (94%).Progress: 656/690 tests (95%)                                        [ 97%]
tests/test_switch_queue_consumer.py .Progress: 657/690 tests (95%)                                    [ 97%]
tests/test_switch_registry_enqueue.py .Progress: 658/690 tests (95%)                                  [ 97%]
tests/test_switch_scoring_breaker.py .Progress: 659/690 tests (95%).Progress: 660/690 tests (95%)                                  [ 98%]
tests/test_tentaculo_link.py .Progress: 661/690 tests (95%).Progress: 662/690 tests (95%).Progress: 663/690 tests (96%).Progress: 664/690 tests (96%)                                        [ 98%]
tests/test_v2_advanced.py .Progress: 665/690 tests (96%).Progress: 666/690 tests (96%).Progress: 667/690 tests (96%).Progress: 668/690 tests (96%).Progress: 669/690 tests (96%).Progress: 670/690 tests (97%)FProgress: 671/690 tests (97%)FProgress: 672/690 tests (97%)                                       [100%]

=================================== FAILURES ===================================
__________ TestAdaptiveModesIntegration.test_eco_vs_critical_profiles __________
tests/test_dynamic_optimization.py:171: in test_eco_vs_critical_profiles
    assert critical["timeout_ms"] > eco["timeout_ms"]
E   assert 200 > 2000
____________________________ test_hormiguero_health ____________________________
tests/test_health_smoke.py:46: in test_hormiguero_health
    from hormiguero.main import app, VX11_TOKEN, settings
E   ImportError: cannot import name 'VX11_TOKEN' from 'hormiguero.main' (/home/elkakas314/vx11/hormiguero/main.py)
__________________________ test_create_and_list_task ___________________________
tests/test_hormiguero.py:12: in test_create_and_list_task
    assert r.status_code == 200
E   assert 404 == 200
E    +  where 404 = <Response [404 Not Found]>.status_code
______________ TestEndpointExistence.test_main_module_importable _______________
tests/test_madre.py:341: in test_main_module_importable
    assert "/madre/chat" in routes
E   AssertionError: assert '/madre/chat' in ['/openapi.json', '/docs', '/docs/oauth2-redirect', '/redoc', '/madre/power/on/{module}', '/madre/power/off/{module}', ...]
____________ TestIntentProcessing.test_intent_creates_daughter_task ____________
tests/test_madre_spawner_v7.py:125: in test_intent_creates_daughter_task
    assert response.status_code == 200
E   assert 500 == 200
E    +  where 500 = <Response [500 Internal Server Error]>.status_code
__________ TestIntentProcessing.test_intent_short_task_classification __________
tests/test_madre_spawner_v7.py:152: in test_intent_short_task_classification
    assert response.status_code == 200
E   assert 500 == 200
E    +  where 500 = <Response [500 Internal Server Error]>.status_code
__________ TestIntentProcessing.test_intent_long_task_higher_retries ___________
tests/test_madre_spawner_v7.py:171: in test_intent_long_task_higher_retries
    assert response.status_code == 200
E   assert 500 == 200
E    +  where 500 = <Response [500 Internal Server Error]>.status_code
___________ TestTaskListing.test_list_active_tasks_default_statuses ____________
tests/test_madre_spawner_v7.py:197: in test_list_active_tasks_default_statuses
    assert data["count"] == 3
E   assert 82 == 3
___________ TestTaskListing.test_list_active_tasks_filter_by_status ____________
tests/test_madre_spawner_v7.py:218: in test_list_active_tasks_filter_by_status
    assert data["count"] == 1
E   assert 0 == 1
___________ TestTaskListing.test_list_active_hijas_default_statuses ____________
tests/test_madre_spawner_v7.py:249: in test_list_active_hijas_default_statuses
    assert data["count"] == 2
E   assert 45 == 2
___________ TestTaskListing.test_list_active_hijas_filter_by_status ____________
tests/test_madre_spawner_v7.py:279: in test_list_active_hijas_filter_by_status
    assert data["count"] == 2
E   assert 82 == 2
_______ TestTaskStatus.test_task_full_status_with_daughters_and_attempts _______
tests/test_madre_spawner_v7.py:327: in test_task_full_status_with_daughters_and_attempts
    assert data["task"]["status"] == "running"
E   AssertionError: assert 'cancelled' == 'running'
E     - running
E     + cancelled
_____________ TestTaskCancellation.test_cancel_task_and_daughters ______________
tests/test_madre_spawner_v7.py:378: in test_cancel_task_and_daughters
    assert updated_task.status == "cancelled"
E   AssertionError: assert 'running' == 'cancelled'
E     - cancelled
E     + running
_________ TestErrorHandling.test_spawner_spawn_missing_parent_task_id __________
tests/test_madre_spawner_v7.py:737: in test_spawner_spawn_missing_parent_task_id
    assert response.status_code in [400, 422]
E   assert 404 in [400, 422]
E    +  where 404 = <Response [404 Not Found]>.status_code
_______________ TestPriorityMap.test_intent_priority_assignment ________________
tests/test_madre_spawner_v7.py:782: in test_intent_priority_assignment
    assert response.status_code == 200
E   assert 500 == 200
E    +  where 500 = <Response [500 Internal Server Error]>.status_code
_______________ TestIntentLogging.test_intent_creates_audit_log ________________
tests/test_madre_spawner_v7.py:803: in test_intent_creates_audit_log
    assert response.status_code == 200
E   assert 500 == 200
E    +  where 500 = <Response [500 Internal Server Error]>.status_code
_____________ TestHormigueroWorkerScaling.test_hormiguero_scale_up _____________
tests/test_modes_transition.py:120: in test_hormiguero_scale_up
    assert response.status_code == 200
E   assert 404 == 200
E    +  where 404 = <Response [404 Not Found]>.status_code
____________ TestHormigueroWorkerScaling.test_hormiguero_scale_down ____________
tests/test_modes_transition.py:132: in test_hormiguero_scale_down
    assert response.status_code == 200
E   assert 404 == 200
E    +  where 404 = <Response [404 Not Found]>.status_code
___________ TestHormigueroWorkerScaling.test_hormiguero_get_metrics ____________
tests/test_modes_transition.py:143: in test_hormiguero_get_metrics
    assert response.status_code == 200
E   assert 404 == 200
E    +  where 404 = <Response [404 Not Found]>.status_code
____________ TestMetricsEndpoints.test_hormiguero_metrics_endpoints ____________
tests/test_modes_transition.py:207: in test_hormiguero_metrics_endpoints
    assert response.status_code == 200
E   assert 404 == 200
E    +  where 404 = <Response [404 Not Found]>.status_code
____________ TestModeProfileStructure.test_mode_progression_values _____________
tests/test_modes_transition.py:255: in test_mode_progression_values
    assert profile["timeout_ms"] >= prev_timeout
E   assert 1000 >= 2000
___________________ TestBrowserClientStub.test_stub_navigate ___________________
tests/test_operator_browser_v7.py:70: in test_stub_navigate
    assert result["title"] == "Page Title (stub)"
E   AssertionError: assert 'Mock Page - ...//example.com' == 'Page Title (stub)'
E     - Page Title (stub)
E     + Mock Page - https://example.com
_________ TestBrowserClientPlaywright.test_playwright_navigate_success _________
tests/test_operator_browser_v7.py:104: in test_playwright_navigate_success
    with patch("operator.backend.browser.async_playwright") as mock_pw:
/usr/lib/python3.10/unittest/mock.py:1431: in __enter__
    self.target = self.getter()
/usr/lib/python3.10/unittest/mock.py:1618: in <lambda>
    getter = lambda: _importer(target)
/usr/lib/python3.10/unittest/mock.py:1261: in _importer
    thing = _dot_lookup(thing, comp, import_path)
/usr/lib/python3.10/unittest/mock.py:1250: in _dot_lookup
    __import__(import_path)
E   ModuleNotFoundError: No module named 'operator.backend'; 'operator' is not a package
_________ TestBrowserClientPlaywright.test_playwright_navigate_timeout _________
tests/test_operator_browser_v7.py:131: in test_playwright_navigate_timeout
    from playwright.async_api import TimeoutError as PlaywrightTimeoutError
E   ModuleNotFoundError: No module named 'playwright.async_api'
____________ TestBrowserClientPlaywright.test_playwright_execute_js ____________
tests/test_operator_browser_v7.py:160: in test_playwright_execute_js
    with patch("operator.backend.browser.async_playwright") as mock_pw:
/usr/lib/python3.10/unittest/mock.py:1431: in __enter__
    self.target = self.getter()
/usr/lib/python3.10/unittest/mock.py:1618: in <lambda>
    getter = lambda: _importer(target)
/usr/lib/python3.10/unittest/mock.py:1261: in _importer
    thing = _dot_lookup(thing, comp, import_path)
/usr/lib/python3.10/unittest/mock.py:1250: in _dot_lookup
    __import__(import_path)
E   ModuleNotFoundError: No module named 'operator.backend'; 'operator' is not a package
___________________ TestBrowserClientError.test_unknown_impl ___________________
tests/test_operator_browser_v7.py:214: in test_unknown_impl
    assert result["status"] == "error"
E   AssertionError: assert 'ok' == 'error'
E     - error
E     + ok
____________ TestBrowserClientError.test_playwright_error_handling _____________
tests/test_operator_browser_v7.py:222: in test_playwright_error_handling
    with patch("operator.backend.browser.async_playwright") as mock_pw:
/usr/lib/python3.10/unittest/mock.py:1431: in __enter__
    self.target = self.getter()
/usr/lib/python3.10/unittest/mock.py:1618: in <lambda>
    getter = lambda: _importer(target)
/usr/lib/python3.10/unittest/mock.py:1261: in _importer
    thing = _dot_lookup(thing, comp, import_path)
/usr/lib/python3.10/unittest/mock.py:1250: in _dot_lookup
    __import__(import_path)
E   ModuleNotFoundError: No module named 'operator.backend'; 'operator' is not a package
__________________________ test_ui_status_aggregates ___________________________
../.local/lib/python3.10/site-packages/_pytest/monkeypatch.py:76: in resolve
    __import__(used)
E   ModuleNotFoundError: No module named 'operator.backend'; 'operator' is not a package

The above exception was the direct cause of the following exception:
tests/test_operator_ui_status_events.py:53: in test_ui_status_aggregates
    monkeypatch.setattr("operator.backend.main.get_http_client", _dummy_get_http_client)
../.local/lib/python3.10/site-packages/_pytest/monkeypatch.py:103: in derive_importpath
    target = resolve(module)
../.local/lib/python3.10/site-packages/_pytest/monkeypatch.py:82: in resolve
    raise ImportError(f"import error in {used}: {ex}") from ex
E   ImportError: import error in operator.backend: No module named 'operator.backend'; 'operator' is not a package
________________________ test_ui_events_registers_chat _________________________
../.local/lib/python3.10/site-packages/_pytest/monkeypatch.py:76: in resolve
    __import__(used)
E   ModuleNotFoundError: No module named 'operator.backend'; 'operator' is not a package

The above exception was the direct cause of the following exception:
tests/test_operator_ui_status_events.py:69: in test_ui_events_registers_chat
    monkeypatch.setattr("operator.backend.main.switch_client.chat", dummy_chat)
../.local/lib/python3.10/site-packages/_pytest/monkeypatch.py:103: in derive_importpath
    target = resolve(module)
../.local/lib/python3.10/site-packages/_pytest/monkeypatch.py:82: in resolve
    raise ImportError(f"import error in {used}: {ex}") from ex
E   ImportError: import error in operator.backend: No module named 'operator.backend'; 'operator' is not a package
_______________________ test_ui_status_includes_version ________________________
tests/test_operator_version_core.py:21: in test_ui_status_includes_version
    assert resp.status_code == 200
E   assert 404 == 200
E    +  where 404 = <Response [404 Not Found]>.status_code
__________ TestAudioBatchEngineAutonomy.test_batch_engine_enqueue_job __________
tests/test_shub_autonomy_e2e.py:288: in test_batch_engine_enqueue_job
    result = await engine.enqueue_job(
E   TypeError: AudioBatchEngine.enqueue_job() got an unexpected keyword argument 'files'
__________ TestAudioBatchEngineAutonomy.test_batch_engine_get_status ___________
tests/test_shub_autonomy_e2e.py:304: in test_batch_engine_get_status
    enqueue_result = await engine.enqueue_job(
E   TypeError: AudioBatchEngine.enqueue_job() got an unexpected keyword argument 'files'
______ TestVirtualEngineerAutonomy.test_virtual_engineer_decide_priority _______
tests/test_shub_autonomy_e2e.py:343: in test_virtual_engineer_decide_priority
    assert 1 <= priority <= 10
E   TypeError: '<=' not supported between instances of 'int' and 'coroutine'
____ TestVirtualEngineerAutonomy.test_virtual_engineer_decide_master_style _____
tests/test_shub_autonomy_e2e.py:358: in test_virtual_engineer_decide_master_style
    assert isinstance(style, str)
E   assert False
E    +  where False = isinstance(<coroutine object VirtualEngineer.decide_master_style at 0x7166716f2dc0>, str)
_____________ TestShubAutonomyE2E.test_e2e_workflow_madre_to_shub ______________
tests/test_shub_autonomy_e2e.py:384: in test_e2e_workflow_madre_to_shub
    assert batch_result["status"] == "ok"
E   AssertionError: assert 'error' == 'ok'
E     - ok
E     + error
------------------------------ Captured log call -------------------------------
ERROR    vx11.shub.madre_handler:madre_shub_handler.py:229 [MADRE] Error encolando batch: BatchJob.__init__() got an unexpected keyword argument 'batch_name'
Traceback (most recent call last):
  File "/home/elkakas314/vx11/shubniggurath/api/madre_shub_handler.py", line 200, in handle_batch_task
    batch_job = BatchJob(
TypeError: BatchJob.__init__() got an unexpected keyword argument 'batch_name'
____ TestShubAutonomyE2E.test_e2e_workflow_batch_with_issues_to_hormiguero _____
tests/test_shub_autonomy_e2e.py:424: in test_e2e_workflow_batch_with_issues_to_hormiguero
    enqueue_result = await engine.enqueue_job(
E   TypeError: AudioBatchEngine.enqueue_job() got an unexpected keyword argument 'files'
__________ TestIntegrationShubCanonical.test_http_only_communication ___________
tests/test_shub_core.py:262: in test_http_only_communication
    assert forbidden not in imp, f"Found forbidden import in {file_path}: {imp}"
E   AssertionError: Found forbidden import in shubniggurath/core/audio_batch_engine.py: hormiguero.shub_audio_pheromones
E   assert 'hormiguero' not in 'hormiguero....o_pheromones'
E     'hormiguero' is contained here:
E       hormiguero.shub_audio_pheromones
E     ? ++++++++++
______________ TestDSPPipeline.test_run_full_pipeline_quick_mode _______________
tests/test_shub_dsp.py:60: in test_run_full_pipeline_quick_mode
    assert result['status'] == 'success'
E   AssertionError: assert 'error' == 'success'
E     - success
E     + error
________________ TestDSPPipeline.test_run_full_pipeline_mode_c _________________
tests/test_shub_dsp.py:77: in test_run_full_pipeline_mode_c
    assert result['status'] == 'success'
E   AssertionError: assert 'error' == 'success'
E     - success
E     + error
________________ TestDSPPipeline.test_audio_analysis_structure _________________
tests/test_shub_dsp.py:91: in test_audio_analysis_structure
    analysis = result['audio_analysis']
E   KeyError: 'audio_analysis'
___________________ TestDSPPipeline.test_fx_chain_generation ___________________
tests/test_shub_dsp.py:113: in test_fx_chain_generation
    fx_chain = result['fx_chain']
E   KeyError: 'fx_chain'
________________ TestDSPPipeline.test_reaper_preset_generation _________________
tests/test_shub_dsp.py:130: in test_reaper_preset_generation
    preset = result['reaper_preset']
E   KeyError: 'reaper_preset'
_______ TestDSPEngineIntegration.test_audio_analysis_dataclass_creation ________
tests/test_shub_dsp.py:158: in test_audio_analysis_dataclass_creation
    analysis = AudioAnalysis(
E   TypeError: AudioAnalysis.__init__() missing 3 required positional arguments: 'duration', 'sample_rate', and 'channels'
_____________________________ test_mode_c_endpoint _____________________________
tests/test_shub_mode_c.py:36: in test_mode_c_endpoint
    assert r.status_code == 200, r.text
E   AssertionError: {"detail":"Not Found"}
E   assert 404 == 200
E    +  where 404 = <Response [404 Not Found]>.status_code
___________________________ test_shub_execute_modes ____________________________
tests/test_shub_modes.py:12: in test_shub_execute_modes
    assert data.get("status") == "ok"
E   AssertionError: assert 'stub' == 'ok'
E     - ok
E     + stub
______________________ TestDSPEngine.test_analyze_levels _______________________
tests/test_shub_pro.py:128: in test_analyze_levels
    assert -5 < result.rms_db < -1
E   AttributeError: 'AudioAnalysisResult' object has no attribute 'rms_db'. Did you mean: 'rms_dbfs'?
_____________________ TestDSPEngine.test_analyze_dynamics ______________________
tests/test_shub_pro.py:144: in test_analyze_dynamics
    assert result.dynamic_range_db > 5
E   AttributeError: 'AudioAnalysisResult' object has no attribute 'dynamic_range_db'. Did you mean: 'dynamic_range'?
______________________ TestDSPEngine.test_detect_clipping ______________________
tests/test_shub_pro.py:156: in test_detect_clipping
    assert "clipping" in result.issues
E   AssertionError: assert 'clipping' in [{'samples': 48000, 'severity': 1.0, 'type': 'clipping'}, {'offset': 1.5, 'severity': 1.0, 'type': 'dc_offset'}, {'noise_dbfs': 3.5218251811136247, 'severity': 1.0, 'type': 'high_noise_floor'}]
E    +  where [{'samples': 48000, 'severity': 1.0, 'type': 'clipping'}, {'offset': 1.5, 'severity': 1.0, 'type': 'dc_offset'}, {'noise_dbfs': 3.5218251811136247, 'severity': 1.0, 'type': 'high_noise_floor'}] = AudioAnalysisResult(duration=1.0, sample_rate=48000, channels=1, peak_dbfs=3.521825075149536, rms_dbfs=3.5218250751495...nsiderar normalización'}, {'area': 'quality', 'severity': 'warning', 'message': 'Se detectaron 3 problemas de audio'}]).issues
_____________________ TestDSPEngine.test_detect_dc_offset ______________________
tests/test_shub_pro.py:167: in test_detect_dc_offset
    assert "dc_offset" in result.issues
E   AssertionError: assert 'dc_offset' in [{'offset': 0.30000001192092896, 'severity': 1.0, 'type': 'dc_offset'}, {'noise_dbfs': -10.457574560460515, 'severity': 1.0, 'type': 'high_noise_floor'}]
E    +  where [{'offset': 0.30000001192092896, 'severity': 1.0, 'type': 'dc_offset'}, {'noise_dbfs': -10.457574560460515, 'severity': 1.0, 'type': 'high_noise_floor'}] = AudioAnalysisResult(duration=1.0, sample_rate=48000, channels=1, peak_dbfs=-10.457574129104614, rms_dbfs=-10.457572937...60515}], recommendations=[{'area': 'quality', 'severity': 'warning', 'message': 'Se detectaron 2 problemas de audio'}]).issues
_____________________ TestModeCPipeline.test_batch_process _____________________
tests/test_shub_pro.py:317: in test_batch_process
    assert result["success"]
E   assert False
______________ TestVirtualEngineer.test_rule_based_recommendation ______________
tests/test_shub_pro.py:348: in test_rule_based_recommendation
    analysis = AudioAnalysisResult(
E   TypeError: AudioAnalysisResult.__init__() got an unexpected keyword argument 'peak_db'
________________ TestVirtualEngineer.test_suggest_genre_preset _________________
tests/test_shub_pro.py:373: in test_suggest_genre_preset
    analysis = AudioAnalysisResult(
E   TypeError: AudioAnalysisResult.__init__() got an unexpected keyword argument 'peak_db'
______________________ TestShubCoreInit.test_db_init_step ______________________
tests/test_shub_pro.py:409: in test_db_init_step
    assert result["success"]
E   assert False
_________________ TestIntegration.test_full_pipeline_workflow __________________
shubniggurath/pro/dsp_pipeline_full.py:120: in run_pipeline
    job = ShubJob(
../.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py:566: in _initialize_instance
    with util.safe_reraise():
../.local/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
../.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py:564: in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
../.local/lib/python3.10/site-packages/sqlalchemy/orm/decl_base.py:2142: in _declarative_constructor
    raise TypeError(
E   TypeError: 'uuid' is an invalid keyword argument for ShubJob

During handling of the above exception, another exception occurred:
tests/test_shub_pro.py:463: in test_full_pipeline_workflow
    result = await pipeline.run_pipeline(config)
shubniggurath/pro/dsp_pipeline_full.py:223: in run_pipeline
    job.status = JobStatus.FAILED.value
E   UnboundLocalError: local variable 'job' referenced before assignment
_____________________ TestIntegration.test_mode_c_with_fx ______________________
tests/test_shub_pro.py:479: in test_mode_c_with_fx
    assert result["success"]
E   assert False
________ TestShubCoreInitialization.test_initializer_creates_components ________
tests/test_shubniggurath_complete_suite.py:15: in test_initializer_creates_components
    from shubniggurath.core import ShubCoreInitializer
E   ImportError: cannot import name 'ShubCoreInitializer' from 'shubniggurath.core' (/home/elkakas314/vx11/shubniggurath/core/__init__.py)
______________________ TestDSPEngine.test_audio_analysis _______________________
tests/test_shubniggurath_complete_suite.py:35: in test_audio_analysis
    from shubniggurath.core import DSPEngine
E   ImportError: cannot import name 'DSPEngine' from 'shubniggurath.core' (/home/elkakas314/vx11/shubniggurath/core/__init__.py)
_____________________________ test_mcp_chat_basic ______________________________
tests/test_v2_advanced.py:108: in test_mcp_chat_basic
    assert resp.status_code == 200
E   assert 404 == 200
E    +  where 404 = <Response [404 Not Found]>.status_code
___________________________ test_mcp_session_history ___________________________
tests/test_v2_advanced.py:124: in test_mcp_session_history
    assert resp1.status_code == 200
E   assert 404 == 200
E    +  where 404 = <Response [404 Not Found]>.status_code
=========================== short test summary info ============================
SKIPPED [1] tests/test_madre_orchestration.py:21: Madre not running
SKIPPED [1] tests/test_madre_orchestration.py:45: Madre not running
SKIPPED [1] tests/test_madre_orchestration.py:61: Madre not running
SKIPPED [1] tests/test_madre_orchestration.py:77: Madre not running
SKIPPED [1] tests/test_mcp_switch_integration.py:13: integration tests require running services
SKIPPED [1] tests/test_mcp_switch_integration.py:27: integration tests require running services
SKIPPED [1] tests/test_phase12_fases2_10.py:31: integration tests require running services
SKIPPED [1] tests/test_phase12_fases2_10.py:57: integration tests require running services
SKIPPED [1] tests/test_phase12_fases2_10.py:79: integration tests require running services
SKIPPED [1] tests/test_phase12_fases2_10.py:94: integration tests require running services
SKIPPED [1] tests/test_phase12_fases2_10.py:108: integration tests require running services
SKIPPED [1] tests/test_phase12_fases2_10.py:123: integration tests require running services
SKIPPED [1] tests/test_phase12_fases2_10.py:136: integration tests require running services
SKIPPED [1] tests/test_phase12_fases2_10.py:157: integration tests require running services
SKIPPED [1] tests/test_phase12_fases2_10.py:175: integration tests require running services
SKIPPED [1] tests/test_phase12_fases2_10.py:190: integration tests require running services
SKIPPED [1] tests/test_phase12_fases2_10.py:212: integration tests require running services
SKIPPED [1] tests/test_phase12_fases2_10.py:226: integration tests require running services
SKIPPED [1] tests/test_phase12_fases2_10.py:236: integration tests require running services
SKIPPED [1] tests/test_phase12_fases2_10.py:253: integration tests require running services
SKIPPED [1] tests/test_shub_pro.py:119: Requiere librosa para análisis completo
SKIPPED [1] tests/test_shubniggurath_phase1.py:16: ShubCoreInitializer not available
SKIPPED [1] tests/test_shubniggurath_phase1.py:32: DSPEngine not available
SKIPPED [1] tests/test_spawner_endpoints.py:28: Spawner not running
SKIPPED [1] tests/test_spawner_endpoints.py:47: Spawner not running
SKIPPED [1] tests/test_spawner_endpoints.py:60: Spawner not running
SKIPPED [1] tests/test_spawner_endpoints.py:83: Spawner not running
SKIPPED [1] tests/test_spawner_endpoints.py:108: Spawner not running
FAILED tests/test_dynamic_optimization.py::TestAdaptiveModesIntegration::test_eco_vs_critical_profiles
FAILED tests/test_health_smoke.py::test_hormiguero_health - ImportError: cann...
FAILED tests/test_hormiguero.py::test_create_and_list_task - assert 404 == 200
FAILED tests/test_madre.py::TestEndpointExistence::test_main_module_importable
FAILED tests/test_madre_spawner_v7.py::TestIntentProcessing::test_intent_creates_daughter_task
FAILED tests/test_madre_spawner_v7.py::TestIntentProcessing::test_intent_short_task_classification
FAILED tests/test_madre_spawner_v7.py::TestIntentProcessing::test_intent_long_task_higher_retries
FAILED tests/test_madre_spawner_v7.py::TestTaskListing::test_list_active_tasks_default_statuses
FAILED tests/test_madre_spawner_v7.py::TestTaskListing::test_list_active_tasks_filter_by_status
FAILED tests/test_madre_spawner_v7.py::TestTaskListing::test_list_active_hijas_default_statuses
FAILED tests/test_madre_spawner_v7.py::TestTaskListing::test_list_active_hijas_filter_by_status
FAILED tests/test_madre_spawner_v7.py::TestTaskStatus::test_task_full_status_with_daughters_and_attempts
FAILED tests/test_madre_spawner_v7.py::TestTaskCancellation::test_cancel_task_and_daughters
FAILED tests/test_madre_spawner_v7.py::TestErrorHandling::test_spawner_spawn_missing_parent_task_id
FAILED tests/test_madre_spawner_v7.py::TestPriorityMap::test_intent_priority_assignment
FAILED tests/test_madre_spawner_v7.py::TestIntentLogging::test_intent_creates_audit_log
FAILED tests/test_modes_transition.py::TestHormigueroWorkerScaling::test_hormiguero_scale_up
FAILED tests/test_modes_transition.py::TestHormigueroWorkerScaling::test_hormiguero_scale_down
FAILED tests/test_modes_transition.py::TestHormigueroWorkerScaling::test_hormiguero_get_metrics
FAILED tests/test_modes_transition.py::TestMetricsEndpoints::test_hormiguero_metrics_endpoints
FAILED tests/test_modes_transition.py::TestModeProfileStructure::test_mode_progression_values
FAILED tests/test_operator_browser_v7.py::TestBrowserClientStub::test_stub_navigate
FAILED tests/test_operator_browser_v7.py::TestBrowserClientPlaywright::test_playwright_navigate_success
FAILED tests/test_operator_browser_v7.py::TestBrowserClientPlaywright::test_playwright_navigate_timeout
FAILED tests/test_operator_browser_v7.py::TestBrowserClientPlaywright::test_playwright_execute_js
FAILED tests/test_operator_browser_v7.py::TestBrowserClientError::test_unknown_impl
FAILED tests/test_operator_browser_v7.py::TestBrowserClientError::test_playwright_error_handling
FAILED tests/test_operator_ui_status_events.py::test_ui_status_aggregates - I...
FAILED tests/test_operator_ui_status_events.py::test_ui_events_registers_chat
FAILED tests/test_operator_version_core.py::test_ui_status_includes_version
FAILED tests/test_shub_autonomy_e2e.py::TestAudioBatchEngineAutonomy::test_batch_engine_enqueue_job
FAILED tests/test_shub_autonomy_e2e.py::TestAudioBatchEngineAutonomy::test_batch_engine_get_status
FAILED tests/test_shub_autonomy_e2e.py::TestVirtualEngineerAutonomy::test_virtual_engineer_decide_priority
FAILED tests/test_shub_autonomy_e2e.py::TestVirtualEngineerAutonomy::test_virtual_engineer_decide_master_style
FAILED tests/test_shub_autonomy_e2e.py::TestShubAutonomyE2E::test_e2e_workflow_madre_to_shub
FAILED tests/test_shub_autonomy_e2e.py::TestShubAutonomyE2E::test_e2e_workflow_batch_with_issues_to_hormiguero
FAILED tests/test_shub_core.py::TestIntegrationShubCanonical::test_http_only_communication
FAILED tests/test_shub_dsp.py::TestDSPPipeline::test_run_full_pipeline_quick_mode
FAILED tests/test_shub_dsp.py::TestDSPPipeline::test_run_full_pipeline_mode_c
FAILED tests/test_shub_dsp.py::TestDSPPipeline::test_audio_analysis_structure
FAILED tests/test_shub_dsp.py::TestDSPPipeline::test_fx_chain_generation - Ke...
FAILED tests/test_shub_dsp.py::TestDSPPipeline::test_reaper_preset_generation
FAILED tests/test_shub_dsp.py::TestDSPEngineIntegration::test_audio_analysis_dataclass_creation
FAILED tests/test_shub_mode_c.py::test_mode_c_endpoint - AssertionError: {"de...
FAILED tests/test_shub_modes.py::test_shub_execute_modes - AssertionError: as...
FAILED tests/test_shub_pro.py::TestDSPEngine::test_analyze_levels - Attribute...
FAILED tests/test_shub_pro.py::TestDSPEngine::test_analyze_dynamics - Attribu...
FAILED tests/test_shub_pro.py::TestDSPEngine::test_detect_clipping - Assertio...
FAILED tests/test_shub_pro.py::TestDSPEngine::test_detect_dc_offset - Asserti...
FAILED tests/test_shub_pro.py::TestModeCPipeline::test_batch_process - assert...
FAILED tests/test_shub_pro.py::TestVirtualEngineer::test_rule_based_recommendation
FAILED tests/test_shub_pro.py::TestVirtualEngineer::test_suggest_genre_preset
FAILED tests/test_shub_pro.py::TestShubCoreInit::test_db_init_step - assert F...
FAILED tests/test_shub_pro.py::TestIntegration::test_full_pipeline_workflow
FAILED tests/test_shub_pro.py::TestIntegration::test_mode_c_with_fx - assert ...
FAILED tests/test_shubniggurath_complete_suite.py::TestShubCoreInitialization::test_initializer_creates_components
FAILED tests/test_shubniggurath_complete_suite.py::TestDSPEngine::test_audio_analysis
FAILED tests/test_v2_advanced.py::test_mcp_chat_basic - assert 404 == 200
FAILED tests/test_v2_advanced.py::test_mcp_session_history - assert 404 == 200
===== 59 failed, 603 passed, 28 skipped, 36 warnings in 126.14s (0:02:06) ======
